{"ast":null,"code":"import { moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/columns.service\";\nimport * as i2 from \"src/app/services/tasks.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/cdk/drag-drop\";\nimport * as i5 from \"../board-bar/board-bar.component\";\nimport * as i6 from \"../main-button/main-button.component\";\nimport * as i7 from \"../add-task-drawer/add-task-drawer.component\";\nconst _c0 = function (a0) {\n  return {\n    column: a0\n  };\n};\nfunction BoardsComponent_div_4_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const task_r3 = ctx.$implicit;\n    const column_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"cdkDragData\", i0.ɵɵpureFunction1(3, _c0, column_r1));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", task_r3.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(task_r3.text);\n  }\n}\nfunction BoardsComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 4)(1, \"div\", 5);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 6);\n    i0.ɵɵlistener(\"cdkDropListDropped\", function BoardsComponent_div_4_Template_div_cdkDropListDropped_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const column_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.drop($event, column_r1.id));\n    });\n    i0.ɵɵtemplate(4, BoardsComponent_div_4_div_4_Template, 4, 5, \"div\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const column_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(column_r1.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"cdkDropListData\", column_r1.tasks);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", column_r1.tasks);\n  }\n}\nexport class BoardsComponent {\n  constructor(_columnsService, _taskService) {\n    this._columnsService = _columnsService;\n    this._taskService = _taskService;\n    this.object = [];\n    this.changes = [];\n    this.saveButtonVisible = false;\n  }\n  ngOnInit() {\n    this.getColumns();\n  }\n  getColumns() {\n    this._columnsService.getColumns().subscribe(res => {\n      this.object = res;\n    });\n  }\n  drop(event, id) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(event.previousContainer.data, event.container.data, event.previousIndex, event.currentIndex);\n      // Creates an array of object of all changes that were made.\n      // Only changing a column counts as a change, hence why this is in the else statement.\n      this.changes.push({\n        idColumn: id,\n        idTask: event.container.data[event.currentIndex].id\n      });\n      this.updateTask(id, event.container.data[event.currentIndex].id);\n    }\n  }\n  updateTask(idColumn, idTask) {\n    //this._taskService.updateTaskRelation(idColumn, idTask).subscribe();\n    console.log(this.changes);\n  }\n  addTask() {}\n}\nBoardsComponent.ɵfac = function BoardsComponent_Factory(t) {\n  return new (t || BoardsComponent)(i0.ɵɵdirectiveInject(i1.ColumnsService), i0.ɵɵdirectiveInject(i2.TasksService));\n};\nBoardsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BoardsComponent,\n  selectors: [[\"app-boards\"]],\n  decls: 7,\n  vars: 1,\n  consts: [[1, \"board\"], [1, \"board-wrapper\"], [\"cdkDropListGroup\", \"\", 1, \"board-columns\"], [\"class\", \"board-column\", 4, \"ngFor\", \"ngForOf\"], [1, \"board-column\"], [1, \"column-title\"], [\"cdkDropList\", \"\", 1, \"tasks-container\", 3, \"cdkDropListData\", \"cdkDropListDropped\"], [\"class\", \"task\", \"cdkDrag\", \"\", 3, \"cdkDragData\", 4, \"ngFor\", \"ngForOf\"], [\"cdkDrag\", \"\", 1, \"task\", 3, \"cdkDragData\"]],\n  template: function BoardsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵelement(1, \"app-board-bar\");\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2);\n      i0.ɵɵtemplate(4, BoardsComponent_div_4_Template, 5, 3, \"div\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"app-main-button\")(6, \"app-add-task-drawer\");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.object);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.CdkDropList, i4.CdkDropListGroup, i4.CdkDrag, i5.BoardBarComponent, i6.MainButtonComponent, i7.AddTaskDrawerComponent],\n  styles: [\".board[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  min-width: 0;\\n  min-height: 0;\\n}\\n.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-grow: 1;\\n  overflow-x: auto;\\n}\\n.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-grow: 1;\\n}\\n.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%]   .board-column[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  flex-grow: 1;\\n  flex-basis: 0;\\n  min-width: 300px;\\n  margin: 50px;\\n  padding: 25px;\\n  border-radius: 4px;\\n  background: rgba(255, 255, 255, 0.5);\\n}\\n.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%]   .board-column[_ngcontent-%COMP%]:not(:first-child) {\\n  margin-left: 0;\\n}\\n.board[_ngcontent-%COMP%]   .board-wrapper[_ngcontent-%COMP%]   .board-columns[_ngcontent-%COMP%]   .board-column[_ngcontent-%COMP%]   .column-title[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n  font-weight: 800;\\n  font-family: \\\"Lato\\\", sans-serif;\\n  text-transform: uppercase;\\n  margin-bottom: 20px;\\n}\\n\\n.float[_ngcontent-%COMP%] {\\n  align-self: center;\\n  width: 60px;\\n  height: 60px;\\n  background-color: #0C9;\\n  font-size: 30px;\\n  color: #FFF;\\n  border-radius: 50px;\\n  text-align: center;\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.05), 0 3px 14px 2px rgba(0, 0, 0, 0.05);\\n}\\n\\n.tasks-container[_ngcontent-%COMP%] {\\n  flex-grow: 1;\\n  overflow-y: auto;\\n}\\n\\n.task[_ngcontent-%COMP%] {\\n  padding: 15px 12px;\\n  background: white;\\n  border-bottom: solid 1px #ddd;\\n  border-radius: 4px;\\n  margin-bottom: 15px;\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.05), 0 3px 14px 2px rgba(0, 0, 0, 0.05);\\n}\\n\\n.task[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  font-family: \\\"Lato\\\", sans-serif;\\n  text-transform: uppercase;\\n  color: rgb(151, 151, 151);\\n}\\n\\n.cdk-drag-preview[_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  border-radius: 4px;\\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\\n}\\n\\n.cdk-drag-placeholder[_ngcontent-%COMP%] {\\n  opacity: 0;\\n}\\n\\n.cdk-drag-animating[_ngcontent-%COMP%] {\\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n\\n.tasks-container.cdk-drop-list-dragging[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:not(.cdk-drag-placeholder) {\\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\\n}\\n\\n.my-container[_ngcontent-%COMP%] {\\n  position: absolute;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n  background-color: transparent;\\n}\\n\\n.my-drawer-content[_ngcontent-%COMP%] {\\n  display: flex;\\n  height: 100%;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.my-drawer[_ngcontent-%COMP%] {\\n  padding: 30px;\\n  background-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9ib2FyZHMvYm9hcmRzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUlBLFlBQUE7RUFDQSxhQUFBO0FBRko7QUFLSTtFQUNJLGFBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUFIUjtBQU1RO0VBQ0ksYUFBQTtFQUNBLFlBQUE7QUFKWjtBQU1ZO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7RUFFQSxnQkFBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0VBRUEsa0JBQUE7RUFFQSxvQ0FBQTtBQVBoQjtBQVNnQjtFQUNJLGNBQUE7QUFQcEI7QUFVZ0I7RUFDSSxlQUFBO0VBQ0EsZ0JBQUE7RUFDQSwrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUFScEI7O0FBZ0JBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0ZBQUE7QUFiSjs7QUFrQkE7RUFDSSxZQUFBO0VBQ0EsZ0JBQUE7QUFmSjs7QUFrQkE7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsNkJBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBRUEsa0ZBQUE7QUFoQko7O0FBcUJBO0VBQ0ksZUFBQTtFQUNBLCtCQUFBO0VBQ0EseUJBQUE7RUFDQSx5QkFBQTtBQWxCSjs7QUF1QkE7RUFDSSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUhBQUE7QUFwQko7O0FBeUJBO0VBQ0ksVUFBQTtBQXRCSjs7QUF5QkE7RUFDSSxzREFBQTtBQXRCSjs7QUF5QkE7RUFDSSxzREFBQTtBQXRCSjs7QUEwQkE7RUFDSSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLDZCQUFBO0FBdkJKOztBQXlCQTtFQUNJLGFBQUE7RUFDQSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtBQXRCSjs7QUF3QkE7RUFDSSxhQUFBO0VBQ0EsNkJBQUE7QUFyQkoiLCJzb3VyY2VzQ29udGVudCI6WyIuYm9hcmQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBmbGV4LWdyb3c6IDE7XG5cbiAgICAvLyBPdmVycmlkZSBBdXRvbWF0aWMgTWluaW11bSBTaXplXG4gICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzYyNDcxNDAvd2h5LWRvbnQtZmxleC1pdGVtcy1zaHJpbmstcGFzdC1jb250ZW50LXNpemVcbiAgICBtaW4td2lkdGg6IDA7XG4gICAgbWluLWhlaWdodDogMDtcblxuXG4gICAgLmJvYXJkLXdyYXBwZXIge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgIG92ZXJmbG93LXg6IGF1dG87XG4gICAgICAgIFxuXG4gICAgICAgIC5ib2FyZC1jb2x1bW5zIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWdyb3c6IDE7XG5cbiAgICAgICAgICAgIC5ib2FyZC1jb2x1bW4ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgICAgICAgICBmbGV4LWdyb3c6IDE7XG4gICAgICAgICAgICAgICAgZmxleC1iYXNpczogMDsgLy8gdG8gZm9yY2UgdGhlIGNvbHVtbnMgdG8gYWxsIGJlIHRoZSBzYW1lIHNpemUsIHJlZ2FyZGxlc3Mgb2YgY29udGVudFxuXG4gICAgICAgICAgICAgICAgbWluLXdpZHRoOiAzMDBweDtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDUwcHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMjVweDtcblxuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcblxuICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEod2hpdGUsIDAuNSk7XG5cbiAgICAgICAgICAgICAgICAmOm5vdCg6Zmlyc3QtY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLmNvbHVtbi10aXRsZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDgwMDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdMYXRvJywgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cblxuLmZsb2F0IHtcbiAgICBhbGlnbi1zZWxmOiBjZW50ZXI7XG4gICAgd2lkdGg6NjBweDtcbiAgICBoZWlnaHQ6NjBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiMwQzk7XG4gICAgZm9udC1zaXplOiAzMHB4O1xuICAgIGNvbG9yOiNGRkY7XG4gICAgYm9yZGVyLXJhZGl1czo1MHB4O1xuICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgIGJveC1zaGFkb3c6IDAgNXB4IDVweCAtM3B4IHJnYmEoMCwgMCwgMCwgMC4wNSksXG4gICAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcbn1cblxuXG4udGFza3MtY29udGFpbmVyIHtcbiAgICBmbGV4LWdyb3c6IDE7XG4gICAgb3ZlcmZsb3cteTogYXV0bzsgXG59XG5cbi50YXNrIHtcbiAgICBwYWRkaW5nOiAxNXB4IDEycHg7XG4gICAgYmFja2dyb3VuZDogd2hpdGU7XG4gICAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4ICNkZGQ7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG5cbiAgICBib3gtc2hhZG93OiAwIDVweCA1cHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMDUpLFxuICAgIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG5cbn1cblxuLnRhc2sgcHtcbiAgICBmb250LXNpemU6IDEycHg7XG4gICAgZm9udC1mYW1pbHk6ICdMYXRvJywgc2Fucy1zZXJpZjtcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgIGNvbG9yOiByZ2IoMTUxLCAxNTEsIDE1MSk7XG59XG5cblxuXG4uY2RrLWRyYWctcHJldmlldyB7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgYm94LXNoYWRvdzogMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLFxuICAgICAgICAgICAgICAgIDAgOHB4IDEwcHggMXB4IHJnYmEoMCwgMCwgMCwgMC4xNCksXG4gICAgICAgICAgICAgICAgMCAzcHggMTRweCAycHggcmdiYSgwLCAwLCAwLCAwLjEyKTtcbn1cblxuLmNkay1kcmFnLXBsYWNlaG9sZGVyIHtcbiAgICBvcGFjaXR5OiAwO1xufVxuXG4uY2RrLWRyYWctYW5pbWF0aW5nIHtcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMjUwbXMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSk7XG59XG5cbi50YXNrcy1jb250YWluZXIuY2RrLWRyb3AtbGlzdC1kcmFnZ2luZyAudGFzazpub3QoLmNkay1kcmFnLXBsYWNlaG9sZGVyKSB7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDI1MG1zIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xufVxuXG5cbi5teS1jb250YWluZXIge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgdG9wOiAwO1xuICAgIGJvdHRvbTogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHJpZ2h0OiAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xufVxuLm15LWRyYXdlci1jb250ZW50IHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGhlaWdodDogMTAwJTtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xufVxuLm15LWRyYXdlciB7XG4gICAgcGFkZGluZzogMzBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"AACA,SAAsBA,eAAe,EAAEC,iBAAiB,QAAQ,wBAAwB;;;;;;;;;;;;;;;;ICWpEC,8BAAqF;IACjFA,YACA;IAAAA,yBAAG;IAAAA,YAAe;IAAAA,iBAAI;;;;;IAFkCA,mEAAwB;IAChFA,eACA;IADAA,8CACA;IAAGA,eAAe;IAAfA,kCAAe;;;;;;IAT9BA,8BAAwD;IAC1BA,YAAiB;IAAAA,iBAAM;IACjDA,8BAImD;IAA/CA;MAAA;MAAA;MAAA;MAAA,OAAsBA,gDAAuB;IAAA,EAAC;IAC9CA,sEAGM;IACVA,iBAAM;;;;IAVoBA,eAAiB;IAAjBA,oCAAiB;IAIvCA,eAAgC;IAAhCA,iDAAgC;IAEGA,eAAe;IAAfA,yCAAe;;;ADAtE,OAAM,MAAOC,eAAe;EAM1BC,YAAoBC,eAA+B,EAAUC,YAA0B;IAAnE,oBAAe,GAAfD,eAAe;IAA0B,iBAAY,GAAZC,YAAY;IALzE,WAAM,GAAa,EAAE;IACrB,YAAO,GAAc,EAAE;IACvB,sBAAiB,GAAY,KAAK;EAGyD;EAE3FC,QAAQ;IACN,IAAI,CAACC,UAAU,EAAE;EACnB;EAEAA,UAAU;IACR,IAAI,CAACH,eAAe,CAACG,UAAU,EAAE,CAACC,SAAS,CAACC,GAAG,IAAG;MAChD,IAAI,CAACC,MAAM,GAAGD,GAAG;IACnB,CAAC,CAAC;EAEJ;EAGAE,IAAI,CAACC,KAA0B,EAAEC,EAAU;IACzC,IAAID,KAAK,CAACE,iBAAiB,KAAKF,KAAK,CAACG,SAAS,EAAE;MAC/ChB,eAAe,CAACa,KAAK,CAACG,SAAS,CAACC,IAAI,EAAEJ,KAAK,CAACK,aAAa,EAAEL,KAAK,CAACM,YAAY,CAAC;KAC/E,MAAM;MACLlB,iBAAiB,CACfY,KAAK,CAACE,iBAAiB,CAACE,IAAI,EAC5BJ,KAAK,CAACG,SAAS,CAACC,IAAI,EACpBJ,KAAK,CAACK,aAAa,EACnBL,KAAK,CAACM,YAAY,CACnB;MACD;MACA;MACA,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAEC,QAAQ,EAAER,EAAE;QAAES,MAAM,EAAEV,KAAK,CAACG,SAAS,CAACC,IAAI,CAACJ,KAAK,CAACM,YAAY,CAAC,CAACL;MAAE,CAAE,CAAC;MACxF,IAAI,CAACU,UAAU,CAACV,EAAE,EAAED,KAAK,CAACG,SAAS,CAACC,IAAI,CAACJ,KAAK,CAACM,YAAY,CAAC,CAACL,EAAE,CAAC;;EAIpE;EAEAU,UAAU,CAACF,QAAgB,EAAEC,MAAc;IACzC;IACAE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACN,OAAO,CAAC;EAC3B;EAEAO,OAAO,IAAI;;AA5CAxB,eAAe;mBAAfA,eAAe;AAAA;AAAfA,eAAe;QAAfA,eAAe;EAAAyB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCX5B9B,8BAAmB;MACfA,gCAA+B;MAC/BA,8BAA2B;MAEnBA,gEAYM;MACVA,iBAAM;MACNA,kCAAmC;MAEvCA,iBAAM;;;MAhB+CA,eAAS;MAATA,oCAAS","names":["moveItemInArray","transferArrayItem","i0","BoardsComponent","constructor","_columnsService","_taskService","ngOnInit","getColumns","subscribe","res","object","drop","event","id","previousContainer","container","data","previousIndex","currentIndex","changes","push","idColumn","idTask","updateTask","console","log","addTask","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/bence/Desktop/angular-learning/kanban/src/app/components/boards/boards.component.ts","/Users/bence/Desktop/angular-learning/kanban/src/app/components/boards/boards.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CdkDragDrop, moveItemInArray, transferArrayItem } from '@angular/cdk/drag-drop';\nimport { ColumnsService } from 'src/app/services/columns.service';\nimport { Column, Task } from 'src/app/models/column.model';\nimport { TasksService } from 'src/app/services/tasks.service';\nimport { Changes } from 'src/app/models/changes.model';\n\n@Component({\n  selector: 'app-boards',\n  templateUrl: './boards.component.html',\n  styleUrls: ['./boards.component.scss']\n})\nexport class BoardsComponent implements OnInit{\n  object: Column[] = [];\n  changes: Changes[] = [];\n  saveButtonVisible: boolean = false;\n\n\n  constructor(private _columnsService: ColumnsService, private _taskService: TasksService) { }\n\n  ngOnInit(): void {\n    this.getColumns();\n  }\n\n  getColumns() {\n    this._columnsService.getColumns().subscribe(res => {\n      this.object = res\n    })\n\n  }\n\n\n  drop(event: CdkDragDrop<Task[]>, id: number) {\n    if (event.previousContainer === event.container) {\n      moveItemInArray(event.container.data, event.previousIndex, event.currentIndex);\n    } else {\n      transferArrayItem(\n        event.previousContainer.data,\n        event.container.data,\n        event.previousIndex,\n        event.currentIndex,\n      );\n      // Creates an array of object of all changes that were made.\n      // Only changing a column counts as a change, hence why this is in the else statement.\n      this.changes.push({ idColumn: id, idTask: event.container.data[event.currentIndex].id }) \n      this.updateTask(id, event.container.data[event.currentIndex].id);\n\n    }\n\n  }\n\n  updateTask(idColumn: number, idTask: number): void {\n    //this._taskService.updateTaskRelation(idColumn, idTask).subscribe();\n    console.log(this.changes)\n  }\n\n  addTask() {}\n\n}\n","\n<div class=\"board\">\n    <app-board-bar></app-board-bar>\n    <div class=\"board-wrapper\">\n        <div class=\"board-columns\" cdkDropListGroup>\n            <div class=\"board-column\" *ngFor=\"let column of object\">\n                <div class=\"column-title\">{{ column.name }}</div>\n                <div \n                    class=\"tasks-container\"\n                    cdkDropList\n                    [cdkDropListData]=\"column.tasks\"\n                    (cdkDropListDropped)=\"drop($event, column.id)\">\n                    <div class=\"task\" *ngFor=\"let task of column.tasks\" cdkDrag [cdkDragData]=\"{column}\">\n                        {{ task.title }}\n                        <p>{{ task.text }}</p>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <app-main-button></app-main-button>\n        <app-add-task-drawer></app-add-task-drawer>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}